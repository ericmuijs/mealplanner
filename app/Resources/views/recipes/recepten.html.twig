{% extends 'base.html.twig' %}

{% block stylesheets %}
	<link rel="stylesheet" href="{{ asset('css/mycustomcss.css') }}"> 
{% endblock %}

{% block body %}
	
	{{ render(controller('AppBundle:Navigation:menu')) }}
  
	<div class="container" style="margin-top:75px;">
		<div class="row">
		
			<div class="col-sm-2">
				<form name="filters">
					<div class="input-group">
					<input type="search" class="form-control" placeholder="Zoeken..." name="zoek" id="zoek">
					<div class="input-group-btn">
					  <button class="btn btn-default" type="submit">
						<i class="glyphicon glyphicon-search"></i>
					  </button>
					</div>					
					</div>	
					<h3>Filters</h3>
					<div class="form-group">
					<select class="filter form-control input-sm" name="sortBy" id="sortBy">
						<option value="" selected="selected">- Sorteer op...</option>
						<option value="titel">Titel</option>
						<option value="gerecht">Gerecht</option>
						<option value="keuken">Keuken</option>
						<option value="hoofdingredient">Hoofdingredient</option>
						<option value="bereidingstijd">Bereidingstijd</option>
						<option value="toegevoegdOp">Toegevoegd</option>
						<option value="kostprijs">Kostprijs</option>
					</select>
					</div>
					<div class="form-group">
					<select class="filter form-control input-sm" name="gerecht" id="gerecht">
						<option value="" selected="selected">- Gerecht...</option>
						{% for gerecht in gerechten %}
						<option value="{{ gerecht.id }}">{{ gerecht.name }} ({{ gerecht.number }})</option>	
						{% endfor %}
					</select>
					</div>
					<div class="form-group">
					<select class="filter form-control input-sm" name="keuken" id="keuken">
						<option value="" selected="selected">- Keuken...</option>
						{% for keuken in keukens %}
						<option value="{{ keuken.id }}">{{ keuken.name }} ({{ keuken.number }})</option>	
						{% endfor %}
					</select>
					</div>
					<div class="form-group">
					<select class="filter form-control input-sm" name="hoofdingredient" id="hoofdingredient">
						<option value="" selected="selected">- Hoofdingredient...</option>
						{% for hoofdingredient in hoofdingredienten %}
						<option value="{{ hoofdingredient.id }}">{{ hoofdingredient.name }} ({{ hoofdingredient.number }})</option>	
						{% endfor %}
					</select>
					</div>
					<div class="form-group">
						<select class="filter form-control input-sm" name="bereidingstijd" id="bereidingstijd">
							<option value="" selected="selected">- Bereidingstijd...</option>
							<option value="030">< 30 min</option>
							<option value="3060">30 min - 1 u</option>
							<option value="60">> 1 u</option>
						</select>
					</div>	
				</form>							
			</div> <!-- end div class= col-sm-2 -->
			
			<div class="col-sm-10">
			
				<div class="btn-group">
					<a type="button" class="btn btn-primary" href="{{ path('newrecept') }}" id="addrecipe"><span class="glyphicon glyphicon-plus-sign"></span> Voeg recept toe</a>
					<button type="button" class="btn btn-primary dropdown-toggle" data-toggle="dropdown">
						<span class="caret"></span>
					</button>
					<ul class="dropdown-menu" role="menu">
						<li><a>Voeg manueel toe</a></li>
						<li class="disabled"><a href="#">Importeer van het web</a></li>
						<li><a href="#">Importeer uit een bestand</a></li>
					</ul>
				</div>

				<div class="btn-group btn-group-sm">
					<button id="grid" type="button" class="btn btn-default active"><span class="glyphicon glyphicon-th"></span> Tegels</button>
					<button id="list" type="button" class="btn btn-default"><span class="glyphicon glyphicon-th-list"></span> Lijst</button>
				</div><br><br>
				
				<div id="content">
				
			{% for flash_message in app.session.flashBag.get('notice') %}
				<div class="alert alert-success alert-dismissible">
					<a href="#" class="close" data-dismiss="alert" aria-label="close">&times;</a>
					{{ flash_message|raw }}
				</div>
			{% endfor %}				
				
				{% if recepten %}			
					<div id="recepten" class="row list-group">
					{% for recept in recepten %}
					  <div class="item col-sm-4" style="height:200px;">
					  		<a href="{{ path('showrecept', {'id':recept.id}) }}" id="showrecipe">
							{% if recept.fotonaam %}
							<img class="group list-group-image" src="{{ vich_uploader_asset(recept, 'fotoBestand') }}" alt="{{ recept.titel }}" class="img-responsive" style="max-height: 100px;"/>
							{% else %}
							<img class="group list-group-image" src="{{ asset('images/recepten/default-recipe-big.png') }}" alt="default image" style="max-height: 100px;">
							{% endif %}						  
						  <h5 class="group inner list-group-item-heading">{{ recept.titel }}</h5>
						  <p class="group inner list-group-item-text small hideOverflow">{{ recept.beschrijving|raw }}</p>
							{% if recept.tags %}
								<p class="small">
								{% for tag in recept.tags %}
									<span class="label label-primary">{{ tag.name }}</span>
								{% endfor %}
								</p>
							{% endif %}	
							</a>
							<p id="edit-links">
								<a href="{{ path('editform', {'id':recept.id}) }}" id="editrecipe" data-toggle="tooltip" data-placement="auto bottom" title="Bewerk"><span class="glyphicon glyphicon-pencil"></span></a>
								<a href="{{ path('deleterecept', {'id':recept.id}) }}" id="deleterecipe" data-toggle="tooltip" data-placement="auto bottom" title="Verwijder"><span class="glyphicon glyphicon-trash"></span></a>
								<a href="{{ path('addrecipetoshoppinglist', {'id':recept.id}) }}" id="addtoshoppinglist" data-toggle="tooltip" data-placement="auto bottom" title="Voeg toe aan boodschappenlijst"><span class="glyphicon glyphicon-shopping-cart"></span></a>
							</p>												  
					  </div>
					  {% endfor %}
					</div>
				    <div class="navigation text-center">
       					 {{ knp_pagination_render(recepten) }}
    				</div>
				{% else %}
				Geen recepten gevonden.
				{% endif %}					
				</div>	<!-- end div content -->  				
			</div> <!-- end div class=col-sm-10 -->
			
		</div> <!-- end div class=row -->
	</div> <!-- end div class=container -->
	
	<!-- myModal -->
	<div id="myModal" class="modal fade" role="dialog">
	  <div class="modal-dialog">
		<div class="modal-content" id="myModalContent">
		Inhoud wordt geladen...
		</div>
	  </div>
	</div>
	<!-- end Modal -->
	
{% endblock %}

{% block javascripts %}
    <!-- <script src="http://malsup.github.com/jquery.form.js"></script> -->
    <script src="//oss.maxcdn.com/jquery.form/3.50/jquery.form.min.js"></script>
	<script src="{{ asset('js/mycustomjs.js') }}"></script>
	<script src="{{ asset('bundles/tetranzselect2entity/js/select2entity.js') }}"></script>
{% endblock %}